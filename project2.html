<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <div id="styles">
        <link rel="stylesheet" href="style.css">
    </div>
    <title>Andreas Lind - project 2</title>
    <script src="https://smtpjs.com/v3/smtp.js">
    </script>
    <script type="text/javascript">
        function sendEmail() {
            let subject = document.forms["myForm"]["mail"].value + ": " + document.forms["myForm"]["checkbox1"].value;
            let body = document.forms["myForm"]["message"].value + ": " + document.forms["myForm"]["fname"].value;
            Email.send({
                Host: "smtp.gmail.com",
                Username: "andreaslindtesting@gmail.com",
                Password: "Testing123!",
                To: 'andreaslind31@gmail.com',
                From: "andreaslindtesting@gmail.com",
                Subject: subject,
                Body: body,
            })
                .then(function (message) {
                    alert("mail sent successfully")
                });
        }
    </script>
    <script>
        function validateEmail(email) {
            var re = /\S+@\S+\.\S+/;
            return re.test(email);
        }
        function validateForm() {
            let fname = document.forms["myForm"]["fname"].value;
            let mail = document.forms["myForm"]["mail"].value;
            let message = document.forms["myForm"]["message"].value;
            if (fname === "") {
                alert("Name must be filled out");
                return false;
            }
            if (mail === "") {
                alert("Mail must be filled out");
                return false;
            }
            if (message === "") {
                alert("It helps to have a message");
                return false;
            }
            if (document.querySelector("#checkbox3:checked") !== null &&
                document.querySelector("#checkbox5:checked") !== null) {
                alert("You have checked both boxes. Can't decide?!");
                return false;
            }
            else if (validateEmail(mail) == false) {
                alert("Write a correct email")
                return false;
            } else {
                sendEmail();
                return true;
            }
        }

        function changeToSwedish() {
            let xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById("home").innerHTML = this.responseText;
                }
            };
            xhttp.open("GET", "txtfiles/change_to_swedish.txt", true);
            xhttp.send();

        }
        function changeToEnglish() {
            let xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById("home").innerHTML = this.responseText;
                }
            };
            xhttp.open("GET", "txtfiles/change_to_english.txt", true);
            xhttp.send();

        }
    </script>
</head>

<body>
    <div id="home">
        <header>
            <img src="img/pexels-photo-270348.jpeg">
            <nav>
                <a href="index.html">HOME</a>
                <a href="aboutme.html">ABOUT ME</a>
                <a href="project1.html">PROJECT 1</a>
                <a href="project2.html">PROJECT 2</a>
                <a href="project3.html">PROJECT 3</a>
                <a href="#contact">CONTACT</a>
                <button type="button" onclick="changeToDarkmode()">Darkmode</button>
                <button type="button" onclick="changeToSwedish()">Svenska</button>
                <button type="button" onclick="changeToEnglish()">English</button>
            </nav>
        </header>
        <aside id="leftmenu">
            <h3>Interested?</h3>
            <h4>Let me contact you!</h4>
            <form name="myForm" method="post">
                <span id="name">Name:</span> <input type="text" name="fname"><br>
                <span id="mail">Mail:</span> <input type="text" name="mail"><br>
                <span id="message">Message:</span> <input type="text" name="message"><br>
                <br>
                <label for="checkbox3"> I'm from a company</label>
                <input id="checkbox3" type="checkbox" name="checkbox1" value="Company!">
                <br>
                <label for="checkbox5"> Just interested</label>
                <input id="checkbox5" type="checkbox" name="checkbox2" value="Just interested" checked>
                <input id="button" type="button" value="Send Email" onclick="validateForm()" />
            </form>
        </aside>
        <main id="main">
            <article>
                <h2>Project 2 - The Unfortunate Few</h2>
                <h3>Made with C#, T-SQL, Entityframework Core, HTML, JS, CSS</h3>
                <p>
                    For many years, Bethany has been making the most delicous pies at her home.

                    In 2013, we opened our first pie Shop in Brussels (Belgium) in a cosy little street near the Grand
                    Market. People from all over the world fell in love
                    with the tenderness that Bethany & Co showed the pies...
                    <i>The Pie Shop became a success in no time.</i>

                    In 2015, no less than 100 pies were baked every day and Bethany's Pie Shop moved into a larger
                    building.
                    After receiving many requests, it became clear that our next step was making it possible to order
                    smashings from the
                    comfort of your own home and from anywhere in the world. You are now looking at the result of this:
                    our very own
                    webstore, making it possible to order Bethany's delicious pies whenever you feel like it!

                </p>
            </article>
            <h3>BILD HÃ„R</h3>
        </main>
        <footer>
            <article id="contact">
                <h3>Contact me</h3>
                <div>
                    <img src="img/mail-outline 1.svg"><span> andreaslind31@gmail.com</span>
                </div>
                <br>
                <div>
                    <a href="https://www.linkedin.com/in/andreas-lind31/"><img src="img/LI-In-Bug.png"></a>
                </div>
            </article>
        </footer>
    </div>
</body>

</html>